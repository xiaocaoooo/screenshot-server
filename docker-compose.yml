services:
  screenshot-server:
    build:
      context: .
      dockerfile: Dockerfile
    image: xiaocaoooo/screenshot-server:local
    container_name: screenshot-server
    ports:
      - "8080:8080"
    environment:
      PORT: "8080"
      # 默认 browserless 端口为 25004；容器内访问宿主机建议用 host.docker.internal
      BROWSERLESS_HTTP_URL: "http://host.docker.internal:25004"
      # 可选：直接给 WS（优先级更高）
      # CHROME_WS_ENDPOINT: "ws://host.docker.internal:25004/devtools/browser/<id>"
    restart: unless-stopped
